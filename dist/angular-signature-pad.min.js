/*
 * @blinkmobile/angular-signature-pad: v1.0.1 | https://github.com/blinkmobile/angular-signature-pad#readme
 * (c) 2019 BlinkMobile | Released under the MIT license
 */
!function(e,n){if("function"==typeof define&&define.amd)define(["exports","angular","signature_pad","@blinkmobile/canvas-manipulation"],n);else if("undefined"!=typeof exports)n(exports,require("angular"),require("signature_pad"),require("@blinkmobile/canvas-manipulation"));else{var t={};n(t,e.angular,e.SignaturePad,e.canvasManipulation),e.angularSignaturePad=t}}(this,function(e,c,s,f){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function t(r,e,o,n,t){if(s.default){var a,u=this,l=e[0],d=l.children[0];d.width=l.clientWidth,d.height=l.clientHeight,u.$onDestroy=function(){a&&c.default.isFunction(a.off)&&a.off()},u.$onInit=function(){function t(){if(a&&!a.isEmpty()){var e,n=[u.imageType?u.imageType():void 0,u.imageEncoder?u.imageEncoder():void 0];return u.crop&&u.crop()?f.toDataURLCropped.apply(f,[d].concat(n)):(e=a).toDataURL.apply(e,n)}}function e(e){if(c.default.isFunction(e))return function(){return r.$apply(function(){return e()})}}var n=u.options||{};n.onBegin=e(n.onBegin);var i=n.onEnd;n.onEnd=e(function(){u.ngModel.$setViewValue(t()),c.default.isFunction(i)&&i()}),a=new s.default(d,n),u.resize&&u.resize({$fn:function(){var e=l.clientWidth,n=l.clientHeight;u.ngModel.$isEmpty()?(d.width=e,d.height=n):(f.resize(d,e,n,u.scaleDown&&u.scaleDown())||a.clear(),u.ngModel.$setViewValue(t()))}}),u.ngModel.$isEmpty=function(){return a.isEmpty()},u.ngModel.$render=function(){if(u.ngModel.$viewValue){var e=new Image;a._reset(),e.src=u.ngModel.$viewValue,e.onload=function(){f.drawImageCentered(d,e)},a._isEmpty=!1}else a.clear()},o.ngDisabled&&o.$observe("disabled",function(e){return e?a.off():a.on()})}}else t.error("SignaturePad is required")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,c=n(c),s=n(s),f=function(e){{if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};i.get||i.set?Object.defineProperty(n,t,i):n[t]=e[t]}return n.default=e,n}}(f),t.$inject=["$scope","$element","$attrs","$window","$log"];var i={template:'<canvas class="signature-pad">Your browser does not support the HTML5 canvas tag.</canvas>',controller:t,require:{ngModel:"ngModel"},bindings:{options:"<?",crop:"&?",imageType:"&?",imageEncoder:"&?",scaleDown:"&?",resize:"&?"}},r=c.default.module("bmSignaturePad",[]).component("bmSignaturePad",i);e.default=r});