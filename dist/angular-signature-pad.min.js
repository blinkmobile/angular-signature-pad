/*
 * @blinkmobile/angular-signature-pad: v1.0.1 | https://github.com/blinkmobile/angular-signature-pad#readme
 * (c) 2019 BlinkMobile | Released under the MIT license
 */
!function(e,n){if("function"==typeof define&&define.amd)define(["exports","angular","signature_pad","@blinkmobile/canvas-manipulation"],n);else if("undefined"!=typeof exports)n(exports,require("angular"),require("signature_pad"),require("@blinkmobile/canvas-manipulation"));else{var t={};n(t,e.angular,e.SignaturePad,e.canvasManipulation),e.angularSignaturePad=t}}(this,function(e,s,f,p){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function t(r,e,a,n,t){if(f.default){var u,l=this,c=e[0],d=c.children[0];d.width=c.clientWidth,d.height=c.clientHeight,l.$onDestroy=function(){u&&s.default.isFunction(u.off)&&u.off()},l.$onInit=function(){function t(){if(u&&!u.isEmpty()){var e,n=[l.imageType?l.imageType():void 0,l.imageEncoder?l.imageEncoder():void 0];return l.crop&&l.crop()?p.toDataURLCropped.apply(p,[d].concat(n)):(e=u).toDataURL.apply(e,n)}}function e(e){if(s.default.isFunction(e))return function(){return r.$apply(function(){return e()})}}var n=l.options||{};n.onBegin=e(n.onBegin);var i=n.onEnd;if(n.onEnd=e(function(){l.ngModel.$setViewValue(t()),s.default.isFunction(i)&&i()}),u=new f.default(d,n),l.resize&&l.resize({$fn:function(){var e=c.clientWidth,n=c.clientHeight;l.ngModel.$isEmpty()?(d.width=e,d.height=n):(p.resize(d,e,n,l.scaleDown&&l.scaleDown())||u.clear(),l.ngModel.$setViewValue(t()))}}),l.ngModel.$isEmpty=function(){return u.isEmpty()},l.ngModel.$render=function(){if(l.ngModel.$viewValue){var e=new Image;u._reset(),e.src=l.ngModel.$viewValue,e.onload=function(){p.drawImageCentered(d,e)},u._isEmpty=!1}else u.clear()},a.ngDisabled&&a.$observe("disabled",function(e){return e?u.off():u.on()}),a.options){var o=["dotSize","minWidth","maxWidth","throttle","minDistance","backgroundColor","penColor","velocityFilterWeight"];r.$watch(function(){return l.options},function(e){Object.keys(e).forEach(function(n){o.some(function(e){return e===n})&&(u[n]=e[n])})},!0)}}}else t.error("SignaturePad is required")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,s=n(s),f=n(f),p=function(e){{if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};i.get||i.set?Object.defineProperty(n,t,i):n[t]=e[t]}return n.default=e,n}}(p),t.$inject=["$scope","$element","$attrs","$window","$log"];var i={template:'<canvas class="signature-pad">Your browser does not support the HTML5 canvas tag.</canvas>',controller:t,require:{ngModel:"ngModel"},bindings:{options:"<?",crop:"&?",imageType:"&?",imageEncoder:"&?",scaleDown:"&?",resize:"&?"}},o=s.default.module("bmSignaturePad",[]).component("bmSignaturePad",i);e.default=o});